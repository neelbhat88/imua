<% @jsinit = 'Academics' %>

<h1> Academics </h1>

<div class="" style="max-width: 600px; margin: auto;">
	<div style="border-radius: 5px 5px 0px 0px; position: relative; text-align: center; height: 60px; color: rgb(39, 174, 96); border: 1px solid rgb(44, 62, 80); cursor: pointer;">
		<span style="position: relative; left: 15px; font-size: 2.5em; top: 20px;">My Classes</span>
	</div>
	<div style="padding: 20px; border-radius: 0px 0px 5px 5px; color: white; font-size: 1.4em; background-color: rgb(44, 62, 80);">
		<div data-bind="template: {name: templateToUse}"></div>	
	</div>
	<div id="badgeModal" class="badge-modal modal hide fade">
		<div class="badge-modal-header">
			<button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
			<h3>Badges</h3>
		</div>
		<div class="badge-modal-body clearfix">
	  		<div data-bind="visible: badgesEarned().length > 0">
	  			<h4 class="center">Badges Earned</h4>
	  			<div style="font-style: italic; color: gray; font-size: 14px; text-align: center;">Congrats! You earned some new badges, keep up the good work!</div>	  	
			  	<div class="pbl badge-details" data-bind="foreach: { data: badgesEarned, as: 'badgeEarned' }">	
					<div class="globalBadge" style="">
						<span data-bind="text: badgeEarned.title()" style="font-size: 28px"></span>				
						<div data-bind="text: badgeEarned.description()" style="font-size: 15px;"></div>
					</div>		
				</div>
			</div>
			<div data-bind="visible: badgesLost().length > 0">
			    <h4 class="center">Badges Lost</h4>
			    <div style="font-style: italic; color: gray; font-size: 14px; text-align: center;">Don't worry, keep your head up and keep working towards your goals to earn more badges!</div>
			  	<div class="pbl badge-details" data-bind="foreach: { data: badgesLost, as: 'badgeLost' }">	
					<div class="globalBadge" style="">
						<span data-bind="text: badgeLost.title()" style="font-size: 28px"></span>				
						<div data-bind="text: badgeLost.description()" style="font-size: 15px;"></div>
					</div>		
				</div>
			</div>
	  	</div>
	</div>
</div>

<script type="text/html" id="edit-classes">
	<table>
		<thead>
			<tr><th>Class Name</th><th>Grade</th></tr>
			<tbody data-bind="foreach: subjects">
				<tr>
					<!--<td><input data-bind="value: name" /></td>-->
					<td><select data-bind="options: $root.globalsubjects, value: school_class_id, optionsCaption: 'Choose...', optionsText:'name', optionsValue:'id'"></select></td>
					<!--<td><select data-bind="options: $root.classLevels, value: level, optionsCaption: 'Choose...', optionsText:'levelname', optionsValue:'levelid'"></select></td>-->
					<td><select data-bind="options: $root.possibleGrades, value: grade, optionsCaption: 'Choose...'"></select></td>
					<td><a href="#" data-bind="click: $root.removeClass">Remove</a></td>
				</tr>
			</tbody>
		</thead>		
	</table>
	<div>
		<a href="#" data-bind="click: $root.addClass, enable: $root.subjects().length < 7">Add Class</a>
	</div>
	<div>
		<button class="" data-bind="click: $root.saveClasses">Save
		</button>
		<button class="" data-bind="click: $root.cancelEdit">Cancel
		</button>
	</div>
</script>

<script type="text/html" id="view-classes">	
	<table>
		<thead>
			<tr><th>Class Name</th><th>Grade</th></tr>
			<tbody data-bind="foreach: subjects">
				<tr>
					<td><span data-bind="text: name"></span></td>
					<!-- <td><span data-bind="text: $root.classLevels[level()].levelname"></span></td> -->
					<td><span data-bind="text: grade"></span></td>					
				</tr>
			</tbody>
		</thead>		
	</table>
	<div>
		<button class="" data-bind="click: $root.editClasses">Edit</button>
	</div>
</script>


<h3>Semester GPA</h3>
<div data-bind="visible: totalGPA() > 0, text: totalGPA().toFixed(2)"></div>

<!-- <hr />
<h2>KO Debug</h2>
<div data-bind="text: ko.toJSON(totalGPA)"></div>
<div data-bind="text: ko.toJSON(subjects)"></div> -->


<!-- <div style="font-weight: bold"><span>Class Name</span><span>Level</span><span>Grade</span></div>
	<div>
		<span data-bind="text: name"></span>
		<span data-bind="text: $root.classLevels[level()].levelname"></span>
		<span data-bind="text: grade">
	</div> -->